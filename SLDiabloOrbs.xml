<Ui xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.blizzard.com/wow/ui/">
	<Script file="SLDiabloOrbs.lua" />
	<Frame name="SL32GUI" parent="UIParent" movable="true" hidden="true" enableMouse="true">
		<Size>
			<AbsDimension x="400" y="500" />
		</Size>
		<Anchors>
			<Anchor point="TOP">
				<Offset x="0" y="100" />
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="SL32GUIBackground" file="Interface\AddOns\SLDiabloOrbs\images\CHICKEN_backdrop.tga">
					<Anchors>
						<Anchor point="TOPLEFT" />
						<Anchor point="BOTTOMRIGHT" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="SL32GUIBorder" file="Interface\AddOns\SLDiabloOrbs\images\flame_border.tga">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="-55" y="105" />
						</Anchor>
						<Anchor point="BOTTOMRIGHT">
							<Offset x="45" y="-95" />
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="FontString1" inherits="NumberFontNormalHuge" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="SL Diablo Orbs" justifyV="TOP">
					<Size>
						<AbsDimension x="262" y="57" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset x="0" y="-15" />
						</Anchor>
					</Anchors>
					<FontHeight>
						<AbsValue val="42" />
					</FontHeight>
					<Color r="1" g="0" b="0" />
				</FontString>
				<FontString name="FontString1" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="Orb Configuration Utility" justifyV="TOP">
					<Size>
						<AbsDimension x="194" y="39" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset x="0" y="-52" />
						</Anchor>
					</Anchors>
					<FontHeight>
						<AbsValue val="24" />
					</FontHeight>
					<Color r="1" g="0.5" b="0.5" />
				</FontString>
				<FontString parentKey="text" name="$parentText" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT">
							<Offset x="-317" y="209" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="HealthOrbButton">
				<Size>
					<AbsDimension x="85" y="27" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-85" y="150" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer>
						<FontString parentKey="text" inherits="BossEmoteNormalHuge" setAllPoints="true" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="Health Orb" justifyV="TOP">
							<Anchors>
								<Anchor point="CENTER">
									<Offset x="0" y="0" />
								</Anchor>
							</Anchors>
							<FontHeight>
								<AbsValue val="26" />
							</FontHeight>
							<Color r="1" g="0.5" b="0.5" />
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						HealthOrbButton:RegisterForClicks("LeftButtonUp")
						HealthOrbButton.defaultTextColor = {r=1, g=0.5, b=0.5, a = 1}
					</OnLoad>
					<OnEnter>
						local r,g,b,a = HealthOrbButton.text:GetTextColor()
						HealthOrbButton.text:SetTextColor(1,1,1,a)
					</OnEnter>
					<OnLeave>
						local r,g,b,a = HealthOrbButton.defaultTextColor.r,HealthOrbButton.defaultTextColor.g,HealthOrbButton.defaultTextColor.b,HealthOrbButton.defaultTextColor.a
						HealthOrbButton.text:SetTextColor(r,g,b,a)
					</OnLeave>
					<OnMouseDown>
						local r,g,b,a = HealthOrbButton.text:GetTextColor()
						HealthOrbButton.text:SetTextColor(r,g,b,a)
					</OnMouseDown>
					<OnMouseUp>
						local r,g,b,a = HealthOrbButton.text:GetTextColor()
						HealthOrbButton.text:SetTextColor(r,g,b,a)
					</OnMouseUp>
					<OnClick>
						if SL32ConfigFrame:IsVisible() then
							if SL32ConfigFrame.text:GetText() == HealthOrbButton.text:GetText() then
								SL32ConfigFrame:Hide()
								HealthOrbOptionsDropDown:Hide()
							else
								CommitButton.orb = healthOrb
								CommitButton.orbData = SL32CharacterData.healthOrb
								CommitButton.textureElement = SL32CharacterData.healthOrb.textures
								CommitButton.activeElement = SL32CharacterData.healthOrb
								resetXMLTextBoxes()
								checkXMLOrbFontPlacement()
								UpdateXMLTextures(healthOrb)
								UpdateXMLColors(SL32CharacterData.healthOrb.orbColor,SL32CharacterData.healthOrb.galaxy,SL32CharacterData.healthOrb.font1,SL32CharacterData.healthOrb.font2)
								UpdateXMLText(healthOrb)
								ManaOrbOptionsDropDown:Hide()
								HealthOrbOptionsDropDown:Show()
								SL32ConfigFrame.text:SetText(HealthOrbButton.text:GetText())
								SL32ConfigFrame.text:SetTextColor(HealthOrbButton.defaultTextColor.r,HealthOrbButton.defaultTextColor.g,HealthOrbButton.defaultTextColor.b,HealthOrbButton.defaultTextColor.a)
								--set the selected value appropriately
								local index = 1
								if CommitButton.orbData.formatting.truncated then
									index = 1
								elseif CommitButton.orbData.formatting.commaSeparated then
									index = 2
								else
									index = 3
								end

								UIDropDownMenu_SetSelectedID(TextFormattingDropdown, index)
							end
						else
							CommitButton.orb = healthOrb
							CommitButton.orbData = SL32CharacterData.healthOrb
							CommitButton.textureElement = SL32CharacterData.healthOrb.textures
							CommitButton.activeElement = SL32CharacterData.healthOrb
							resetXMLTextBoxes()
							checkXMLOrbFontPlacement()
							UpdateXMLTextures(healthOrb)
							UpdateXMLColors(SL32CharacterData.healthOrb.orbColor,SL32CharacterData.healthOrb.galaxy,SL32CharacterData.healthOrb.font1,SL32CharacterData.healthOrb.font2)
							UpdateXMLText(healthOrb)
							SL32ConfigFrame.text:SetText(HealthOrbButton.text:GetText())
							SL32ConfigFrame.text:SetTextColor(HealthOrbButton.defaultTextColor.r,HealthOrbButton.defaultTextColor.g,HealthOrbButton.defaultTextColor.b,HealthOrbButton.defaultTextColor.a)
							SL32ConfigFrame:Show()
							ManaOrbOptionsDropDown:Hide()
							HealthOrbOptionsDropDown:Show()
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="ManaOrbButton">
				<Size>
					<AbsDimension x="93" y="27" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="72" y="150" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer>
						<FontString parentKey="text" inherits="BossEmoteNormalHuge" setAllPoints="true" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="Mana Orb" justifyV="TOP">
							<Anchors>
								<Anchor point="CENTER">
									<Offset x="0" y="0" />
								</Anchor>
							</Anchors>
							<FontHeight>
								<AbsValue val="26" />
							</FontHeight>
							<Color r="0" g="1" b="1" />
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						ManaOrbButton:RegisterForClicks("LeftButtonUp")
						ManaOrbButton.defaultTextColor = {r=0, g=1, b=1, a=1}
					</OnLoad>
					<OnEnter>
						local r,g,b,a = ManaOrbButton.text:GetTextColor()
						ManaOrbButton.text:SetTextColor(1,1,1,a)
					</OnEnter>
					<OnLeave>
						local r,g,b,a = ManaOrbButton.defaultTextColor.r,ManaOrbButton.defaultTextColor.g,ManaOrbButton.defaultTextColor.b,ManaOrbButton.defaultTextColor.a
						ManaOrbButton.text:SetTextColor(r,g,b,a)
					</OnLeave>
					<OnMouseDown>
						local r,g,b,a = ManaOrbButton.text:GetTextColor()
						ManaOrbButton.text:SetTextColor(r,g,b,a)
					</OnMouseDown>
					<OnMouseUp>
						local r,g,b,a = ManaOrbButton.text:GetTextColor()
						ManaOrbButton.text:SetTextColor(r,g,b,a)
					</OnMouseUp>
					<OnClick>
						if SL32ConfigFrame:IsVisible() then
							if SL32ConfigFrame.text:GetText() == ManaOrbButton.text:GetText() then
								SL32ConfigFrame:Hide()
								ManaOrbOptionsDropDown:Hide()
							else
								CommitButton.orb = manaOrb
								CommitButton.orbData = SL32CharacterData.manaOrb
								CommitButton.textureElement = SL32CharacterData.manaOrb.textures
								CommitButton.activeElement = SL32CharacterData.manaOrb
								resetXMLTextBoxes()
								checkXMLOrbFontPlacement()
								UpdateXMLTextures(manaOrb)
								UpdateXMLColors(SL32CharacterData.manaOrb.orbColor,SL32CharacterData.manaOrb.galaxy,SL32CharacterData.manaOrb.font1,SL32CharacterData.manaOrb.font2)
								UpdateXMLText(manaOrb)
								SL32ConfigFrame.text:SetText(ManaOrbButton.text:GetText())
								SL32ConfigFrame.text:SetTextColor(ManaOrbButton.defaultTextColor.r,ManaOrbButton.defaultTextColor.g,ManaOrbButton.defaultTextColor.b,ManaOrbButton.defaultTextColor.a)
								HealthOrbOptionsDropDown:Hide()
								ManaOrbOptionsDropDown:Show()
								--set the selected value appropriately
								local index = 1
								if CommitButton.orbData.formatting.truncated then
									index = 1
								elseif CommitButton.orbData.formatting.commaSeparated then
									index = 2
								else
									index = 3
								end

								UIDropDownMenu_SetSelectedID(TextFormattingDropdown, index)
							end
						else
							CommitButton.orb = manaOrb
							CommitButton.orbData = SL32CharacterData.manaOrb
							CommitButton.textureElement = SL32CharacterData.manaOrb.textures
							CommitButton.activeElement = SL32CharacterData.manaOrb
							resetXMLTextBoxes()
							checkXMLOrbFontPlacement()
							UpdateXMLTextures(manaOrb)
							UpdateXMLColors(SL32CharacterData.manaOrb.orbColor,SL32CharacterData.manaOrb.galaxy,SL32CharacterData.manaOrb.font1,SL32CharacterData.manaOrb.font2)
							UpdateXMLText(manaOrb)
							SL32ConfigFrame.text:SetText(ManaOrbButton.text:GetText())
							SL32ConfigFrame.text:SetTextColor(ManaOrbButton.defaultTextColor.r,ManaOrbButton.defaultTextColor.g,ManaOrbButton.defaultTextColor.b,ManaOrbButton.defaultTextColor.a)
							SL32ConfigFrame:Show()
							HealthOrbOptionsDropDown:Hide()
							ManaOrbOptionsDropDown:Show()
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CloseButton" inherits="UIPanelButtonTemplate" text="Close">
				<Size>
					<AbsDimension x="75" y="23" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset x="0" y="10" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnMouseUp>
						Handle_SL32GUI()
					</OnMouseUp>
				</Scripts>
			</Button>
			<CheckButton name="TrackCombatCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="26" y="-357" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if TrackCombatCheckButton:GetChecked() then
							SL32CharacterData.combat.enabled = true
							SL32UpdateOrbColor(healthOrb,SL32CharacterData.combat.orbColor,SL32CharacterData.combat.galaxy, SL32CharacterData.combat.font1,SL32CharacterData.combat.font2)
						else
							SL32CharacterData.combat.enabled = false
							SL32UpdateOrbColor(healthOrb,SL32CharacterData.healthOrb.orbColor,SL32CharacterData.healthOrb.galaxy, SL32CharacterData.healthOrb.font1,SL32CharacterData.healthOrb.font2)
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Track Combat" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="ShowArtworkCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="26" y="-319" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if ShowArtworkCheckButton:GetChecked() then
							angelFrame:Show()
							demonFrame:Show()
							SL32CharacterData.artwork.show = true
						else
							angelFrame:Hide()
							demonFrame:Hide()
							SL32CharacterData.artwork.show = false
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Show Artwork" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="ShowBlizzPlayerFrameCheckButton" inherits="UICheckButtonTemplate" checked="false">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="26" y="-395 "/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if ShowBlizzPlayerFrameCheckButton:GetChecked() then
							SL32CharacterData.defaultPlayerFrame.show = true
						else
							SL32CharacterData.defaultPlayerFrame.show = false
						end
						ReloadUI()
					</OnClick>
				</Scripts>
				<ButtonText text="Show Player Frame" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall"/>
			</CheckButton>
			<CheckButton name="AnimateOrbValuesCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="26" y="-281" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if AnimateOrbValuesCheckButton:GetChecked() then
							SL32CharacterData.smoothing = true
						else
							SL32CharacterData.smoothing = false
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Smooth Animate" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="UsePetOrbCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="200" y="-281" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if UsePetOrbCheckButton:GetChecked() then
							SL32_RegisterUnitWatch(petOrbSecure)
							SL32CharacterData.petOrb.enabled = true
						else
							SL32_UnregisterUnitWatch(petOrbSecure)
							petOrb:Hide()
							if petOrbSecure then petOrbSecure:Hide() end
							SL32CharacterData.petOrb.enabled = false
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Use Pet Orb" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="ShowPetOrbValuesCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="200" y="-319" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if ShowPetOrbValuesCheckButton:GetChecked() then
							petOrb.font3:Show()
							petOrb.font4:Show()
							SL32CharacterData.petOrb.showValue = true
							checkPetFontPlacement()
						else
							petOrb.font3:Hide()
							petOrb.font4:Hide()
							SL32CharacterData.petOrb.showValue = False
							checkPetFontPlacement()
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Show Pet Values" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="ShowPetOrbPercentagesCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="200" y="-357" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if ShowPetOrbPercentagesCheckButton:GetChecked() then
							petOrb.font1:Show()
							petOrb.font2:Show()
							SL32CharacterData.petOrb.showPercentage = true
							checkPetFontPlacement()
						else
							petOrb.font1:Hide()
							petOrb.font2:Hide()
							SL32CharacterData.petOrb.showPercentage = False
							checkPetFontPlacement()
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Show Pet Percentage" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="UsePowerTrackerCheckButton" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="200" y="-395" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						-- Visibility is handled in Lua after segmentedPowerTracker is created
					</OnLoad>
					<OnClick>
						if UsePowerTrackerCheckButton:GetChecked() then
							if powerFrame then
								powerFrame:Show()
								powerFrame:SetScript("OnUpdate",SL32MonitorPowers)
							end
							if segmentedPowerTracker then
								segmentedPowerTracker:Show()
								segmentedPowerTracker:SetScript("OnUpdate", SL32MonitorSegmentedPowers)
							end
							SL32CharacterData.powerFrame.show = true
						else
							if powerFrame then
								powerFrame:SetScript("OnUpdate",nil)
								powerFrame:Hide()
							end
							if segmentedPowerTracker then
								segmentedPowerTracker:SetScript("OnUpdate", nil)
								segmentedPowerTracker:Hide()
							end
							SL32CharacterData.powerFrame.show = false
						end
					</OnClick>
				</Scripts>
				<ButtonText text="Use Power Tracker" justifyH="LEFT">
					<Anchors>
						<Anchor x="30" y="0" point="LEFT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<Frame name="SL32MenuBackgroundLabelFrame">
				<Size>
					<AbsDimension x="100" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="26" y="-420" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32MenuBackgroundLabel" inherits="GameFontNormalSmall" text="Menu Background:">
							<Anchors>
								<Anchor point="LEFT" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="SL32MenuBackgroundDropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="10" y="-430" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						SL32_InitMenuBackgroundDropdown()
					</OnShow>
				</Scripts>
			</Frame>
			<Frame name="SL32MaxStackSoundLabelFrame">
				<Size>
					<AbsDimension x="100" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="200" y="-420" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32MaxStackSoundLabel" inherits="GameFontNormalSmall" text="Max Stack Sound:">
							<Anchors>
								<Anchor point="LEFT" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="SL32MaxStackSoundDropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="185" y="-430" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						SL32_InitMaxStackSoundDropdown()
					</OnShow>
				</Scripts>
			</Frame>
			<Frame name="SL32HealthSliderBackdrop">
				<Size>
					<AbsDimension x="6" y="78" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-100" y="50" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture>
							<Size>
								<AbsDimension x="6" y="78" />
							</Size>
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
							<Color r="0.3" g="0.3" b="0.3" a="0.8" />
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="SL32ManaSliderBackdrop">
				<Size>
					<AbsDimension x="6" y="78" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-50" y="50" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture>
							<Size>
								<AbsDimension x="6" y="78" />
							</Size>
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
							<Color r="0.3" g="0.3" b="0.3" a="0.8" />
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="SL32PetSliderBackdrop">
				<Size>
					<AbsDimension x="6" y="78" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="0" y="50" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture>
							<Size>
								<AbsDimension x="6" y="78" />
							</Size>
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
							<Color r="0.3" g="0.3" b="0.3" a="0.8" />
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Slider name="SL32HealthScaleSlider" inherits="OptionsSliderTemplate" minValue="50" maxValue="175" orientation="VERTICAL">
				<Size>
					<AbsDimension x="26" y="100" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-100" y="50" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						getglobal(self:GetName().."Text"):SetText("Health")
						getglobal(self:GetName().."High"):SetText("")
						getglobal(self:GetName().."Low"):SetText("")
						self:SetValueStep(1)
					</OnLoad>
					<OnValueChanged>
						local scale = 225 - self:GetValue()
						SL32SetOrbScale("health", scale)
						if SL32HealthScaleValue then
							SL32HealthScaleValue:SetText(math.floor(scale) .. "%")
						end
					</OnValueChanged>
				</Scripts>
			</Slider>
			<Button name="SL32HealthScaleResetButton" inherits="UIPanelButtonTemplate">
				<Size>
					<AbsDimension x="18" y="18" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-75" y="110" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("R")
					</OnLoad>
					<OnClick>
						SL32HealthScaleSlider:SetValue(125)
						SL32SetOrbScale("health", 100)
						if SL32HealthScaleValue then SL32HealthScaleValue:SetText("100%") end
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="SL32HealthScaleValueFrame">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-100" y="-15" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32HealthScaleValue" inherits="GameFontNormalSmall" text="100%">
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Slider name="SL32ManaScaleSlider" inherits="OptionsSliderTemplate" minValue="50" maxValue="175" orientation="VERTICAL">
				<Size>
					<AbsDimension x="26" y="100" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-50" y="50" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						getglobal(self:GetName().."Text"):SetText("Mana")
						getglobal(self:GetName().."High"):SetText("")
						getglobal(self:GetName().."Low"):SetText("")
						self:SetValueStep(1)
					</OnLoad>
					<OnValueChanged>
						local scale = 225 - self:GetValue()
						SL32SetOrbScale("mana", scale)
						if SL32ManaScaleValue then
							SL32ManaScaleValue:SetText(math.floor(scale) .. "%")
						end
					</OnValueChanged>
				</Scripts>
			</Slider>
			<Button name="SL32ManaScaleResetButton" inherits="UIPanelButtonTemplate">
				<Size>
					<AbsDimension x="18" y="18" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-25" y="110" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("R")
					</OnLoad>
					<OnClick>
						SL32ManaScaleSlider:SetValue(125)
						SL32SetOrbScale("mana", 100)
						if SL32ManaScaleValue then SL32ManaScaleValue:SetText("100%") end
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="SL32ManaScaleValueFrame">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-50" y="-15" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32ManaScaleValue" inherits="GameFontNormalSmall" text="100%">
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Slider name="SL32PetScaleSlider" inherits="OptionsSliderTemplate" minValue="50" maxValue="175" orientation="VERTICAL">
				<Size>
					<AbsDimension x="26" y="100" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="0" y="50" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						getglobal(self:GetName().."Text"):SetText("Pet")
						getglobal(self:GetName().."High"):SetText("")
						getglobal(self:GetName().."Low"):SetText("")
						self:SetValueStep(1)
					</OnLoad>
					<OnValueChanged>
						local scale = 225 - self:GetValue()
						SL32SetOrbScale("pet", scale)
						if SL32PetScaleValue then
							SL32PetScaleValue:SetText(math.floor(scale) .. "%")
						end
					</OnValueChanged>
				</Scripts>
			</Slider>
			<Button name="SL32PetScaleResetButton" inherits="UIPanelButtonTemplate">
				<Size>
					<AbsDimension x="18" y="18" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="25" y="110" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("R")
					</OnLoad>
					<OnClick>
						SL32PetScaleSlider:SetValue(125)
						SL32SetOrbScale("pet", 100)
						if SL32PetScaleValue then SL32PetScaleValue:SetText("100%") end
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="SL32PetScaleValueFrame">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="0" y="-15" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32PetScaleValue" inherits="GameFontNormalSmall" text="100%">
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="SL32PowerTrackerRotationSliderBackdrop">
				<Size>
					<AbsDimension x="6" y="78" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="50" y="50" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true">
							<Color r="0.3" g="0.3" b="0.3" a="0.8"/>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Slider name="SL32PowerTrackerRotationSlider" inherits="OptionsSliderTemplate" minValue="0" maxValue="360" defaultValue="0" orientation="VERTICAL">
				<Size>
					<AbsDimension x="26" y="100" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="50" y="50" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						getglobal(self:GetName().."Text"):SetText("Rotate")
						getglobal(self:GetName().."High"):SetText("")
						getglobal(self:GetName().."Low"):SetText("")
						self:SetValueStep(5)
						self:SetMinMaxValues(0, 360)
						self:SetValue(0)
					</OnLoad>
					<OnValueChanged>
						local val = self:GetValue()
						local rotation = 270 + val
						if rotation >= 360 then rotation = rotation - 360 end
						if SL32SetPowerTrackerRotation then
							SL32SetPowerTrackerRotation(rotation)
						end
						if SL32RotateValue then
							SL32RotateValue:SetText(math.floor(val) .. " deg")
						end
					</OnValueChanged>
				</Scripts>
			</Slider>
			<Button name="SL32PowerTrackerResetButton" inherits="UIPanelButtonTemplate">
				<Size>
					<AbsDimension x="18" y="18" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="75" y="110" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("R")
					</OnLoad>
					<OnClick>
						SL32PowerTrackerRotationSlider:SetValue(0)
						if SL32SetPowerTrackerRotation then
							SL32SetPowerTrackerRotation(270)
						end
						if SL32RotateValue then SL32RotateValue:SetText("0?") end
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="SL32RotateValueFrame">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="50" y="-15" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32RotateValue" inherits="GameFontNormalSmall" text="0?">
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="SL32PowerTrackerScaleSliderBackdrop">
				<Size>
					<AbsDimension x="6" y="78" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="100" y="50" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true">
							<Color r="0.3" g="0.3" b="0.3" a="0.8"/>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Slider name="SL32PowerTrackerScaleSlider" inherits="OptionsSliderTemplate" minValue="50" maxValue="175" orientation="VERTICAL">
				<Size>
					<AbsDimension x="26" y="100" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="100" y="50" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						getglobal(self:GetName().."Text"):SetText("Scale")
						getglobal(self:GetName().."High"):SetText("")
						getglobal(self:GetName().."Low"):SetText("")
						self:SetValueStep(1)
					</OnLoad>
					<OnValueChanged>
						local scale = 225 - self:GetValue()
						if SL32SetPowerTrackerScale then
							SL32SetPowerTrackerScale(scale)
						end
						if SL32PowerTrackerScaleValue then
							SL32PowerTrackerScaleValue:SetText(math.floor(scale) .. "%")
						end
					</OnValueChanged>
				</Scripts>
			</Slider>
			<Button name="SL32PowerTrackerScaleResetButton" inherits="UIPanelButtonTemplate">
				<Size>
					<AbsDimension x="18" y="18" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="125" y="110" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("R")
					</OnLoad>
					<OnClick>
						SL32PowerTrackerScaleSlider:SetValue(125)
						if SL32SetPowerTrackerScale then
							SL32SetPowerTrackerScale(100)
						end
						if SL32PowerTrackerScaleValue then SL32PowerTrackerScaleValue:SetText("100%") end
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="SL32PowerTrackerScaleValueFrame">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="100" y="-15" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="SL32PowerTrackerScaleValue" inherits="GameFontNormalSmall" text="100%">
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				self:SetClampedToScreen(true);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnHide>
				SL32GUI.configFrame:Hide()
			</OnHide>
		</Scripts>
	</Frame>
	<Frame parentKey="configFrame" name="SL32ConfigFrame" parent="SL32GUI" frameStrata="HIGH" hidden="true">
		<Size>
			<AbsDimension x="457" y="450" />
		</Size>
		<Anchors>
			<Anchor point="RIGHT">
				<Offset x="450" y="0" />
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="SL32ConfigBackground" file="Interface\AddOns\SLDiabloOrbs\images\CHICKEN_backdrop.tga">
					<Anchors>
						<Anchor point="TOPLEFT" />
						<Anchor point="BOTTOMRIGHT" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="OrbTextureLabel" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="Swirl Texture" justifyV="TOP">
					<Size>
						<AbsDimension x="181" y="39" />
					</Size>
					<Anchors>
						<Anchor point="CENTER">
							<Offset x="-26" y="-180" />
						</Anchor>
					</Anchors>
					<FontHeight>
						<AbsValue val="19" />
					</FontHeight>
					<Color r="1" g="0.5" b="0.5" />
				</FontString>
				<FontString name="FillTextureLabel" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="Fill Texture" justifyV="TOP">
					<Size>
						<AbsDimension x="181" y="39" />
					</Size>
					<Anchors>
						<Anchor point="CENTER">
							<Offset x="-172" y="-180" />
						</Anchor>
					</Anchors>
					<FontHeight>
						<AbsValue val="19" />
					</FontHeight>
					<Color r="1" g="0.5" b="0.5" />
				</FontString>
			</Layer>
			<Layer level="OVERLAY">
				<FontString parentKey="text" inherits="BossEmoteNormalHuge" font="Interface\addons\SLDiabloOrbs\fonts\Of Wildflowers and Wings.ttf" text="" justifyV="TOP">
					<Size>
						<AbsDimension x="181" y="39" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset x="0" y="-18" />
						</Anchor>
					</Anchors>
					<FontHeight>
						<AbsValue val="26" />
					</FontHeight>
					<Color r="1" g="0" b="0" />
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="SL32OrbPercentageCheckBox" inherits="UICheckButtonTemplate" checked="true" hidden="true">
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="75" y="-145" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
					</OnLoad>
					<OnClick>
						checkXMLOrbFontPlacement()
					</OnClick>
				</Scripts>
				<ButtonText text="Show Percentage" justifyH="RIGHT">
					<Anchors>
						<Anchor x="121" y="0" point="RIGHT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="SL32OrbValueCheckBox" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-65" y="-145" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>

					</OnShow>
					<OnLoad>
					</OnLoad>
					<OnClick>
						checkXMLOrbFontPlacement()
					</OnClick>
				</Scripts>
				<ButtonText text="Show Value" justifyH="RIGHT">
					<Anchors>
						<Anchor x="81" y="0" point="RIGHT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<CheckButton name="SL32OrbEnabledCheckbox" inherits="UICheckButtonTemplate" checked="true">
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="-195" y="-145" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						shouldEnabledCheckboxBeChecked();
					</OnShow>
					<OnLoad>
					</OnLoad>
					<OnClick>
					</OnClick>
				</Scripts>
				<ButtonText text="Enabled" justifyH="RIGHT">
					<Anchors>
						<Anchor x="50" y="0" point="RIGHT" />
					</Anchors>
				</ButtonText>
				<NormalFont style="FocusFontSmall" />
			</CheckButton>
			<Frame name="xmlOrbDisplayFrame2" toplevel="true">
				<Size x="150" y="150" />
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="0" y="10" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						FillXMLTemplate(self)
					</OnLoad>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				SL32ConfigFrame:Hide()
				SL32ConfigFrame:SetClampedToScreen(true)
			</OnLoad>
		</Scripts>
	</Frame>
	<Frame parentKey="OptionsButtonPanel" parent="SL32ConfigFrame">
		<Size>
			<AbsDimension x="457" y="268" />
		</Size>
		<Anchors>
			<Anchor point="CENTER">
				<Offset x="-435" y="101" />
			</Anchor>
		</Anchors>
		<Frames>
			<Frame name="ButtonListFrame" parent="SL32ConfigFrame">
				<Size>
					<AbsDimension x="451" y="56" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset x="0" y="165" />
					</Anchor>
				</Anchors>
				<Frames>
					<Button name="FillButton" inherits="UIPanelButtonTemplate" text="Fill">
						<Size>
							<AbsDimension x="75" y="23" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="50" y="-17" />
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								SL32HideColorPicker()
								SL32ColorPicker("Filling")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="SwirlButton" inherits="UIPanelButtonTemplate" text="Swirl">
						<Size>
							<AbsDimension x="75" y="23" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="144" y="-17" />
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								SL32HideColorPicker()
								SL32ColorPicker("Swirl")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="PercentageButton" inherits="UIPanelButtonTemplate" text="Percentage">
						<Size>
							<AbsDimension x="85" y="23" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="229" y="-17" />
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								SL32HideColorPicker()
								SL32ColorPicker("Font1")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="ValueButton" inherits="UIPanelButtonTemplate" text="Value">
						<Size>
							<AbsDimension x="75" y="23" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="329" y="-17" />
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								SL32HideColorPicker()
								SL32ColorPicker("Font2")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="ResetColorsButton" inherits="UIPanelButtonTemplate" text="Reset Colors">
						<Size>
							<AbsDimension x="90" y="23" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="180" y="-40" />
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								SL32HideColorPicker()
								SL32ResetToClassColors()
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
			<Button name="SL32ConfigFrameCloseButton" inherits="UIPanelCloseButton" parent="SL32ConfigFrame" text="">
				<Size>
					<AbsDimension x="35" y="35" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="422" y="0" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						SL32ConfigFrame:Hide()
						ManaOrbOptionsDropDown:Hide()
						HealthOrbOptionsDropDown:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
	</Frame>
	<Button name="CommitButton" inherits="GameMenuButtonTemplate" parent="SL32ConfigFrame" text="Save Changes">
		<Size>
			<AbsDimension x="133" y="23" />
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset x="138" y="20" />
			</Anchor>
		</Anchors>
		<Scripts>
			<OnClick>
				SL32ApplyChanges()
			</OnClick>
		</Scripts>
	</Button>
	<Button name="HealthOrbOptionsDropDown" inherits="UIDropDownMenuTemplate" hidden="true" parent="SL32ConfigFrame">
		<Size x="200" y="45" />
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset x="0" y="-15" />
			</Anchor>
		</Anchors>
		<Scripts>
			<OnLoad>
				InitializeHealthOrbOptionsDropDown();
			</OnLoad>
			<OnShow>
				CheckHealthOrbOptionValuesAgainstUIState();
			</OnShow>
		</Scripts>
	</Button>
	<Button name="ManaOrbOptionsDropDown" inherits="UIDropDownMenuTemplate" hidden="true" parent="SL32ConfigFrame">
		<Size x="200" y="45" />
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset x="0" y="-15" />
			</Anchor>
		</Anchors>
		<Scripts>
			<OnLoad>
				InitializeManaOrbOptionsDropDown();
			</OnLoad>
			<OnShow>
				CheckManaOrbOptionValuesAgainstUIState();
			</OnShow>
		</Scripts>
	</Button>
	<Button name="TextFormattingDropdown" inherits="UIDropDownMenuTemplate" hidden="true" parent="SL32ConfigFrame">
		<Size x="200" y="45" />
		<Anchors>
			<Anchor point="TOPRIGHT">
				<Offset x="22" y="-15" />
			</Anchor>
		</Anchors>
		<Scripts>
			<OnShow>
				local fillOptions = {
					"Truncate Value",
					"Comma Separate Value",
					"Raw Value"
				}

				function TextFormattingDropdown:OnClick(value)
					UIDropDownMenu_SetSelectedID(TextFormattingDropdown,self:GetID())
					local selectedId = UIDropDownMenu_GetSelectedID(TextFormattingDropdown)
					if selectedId == 1 then
						CommitButton.orbData.formatting.truncated = true;
						CommitButton.orbData.formatting.commaSeparated = false;
					elseif selectedId == 2 then
						CommitButton.orbData.formatting.truncated = false;
						CommitButton.orbData.formatting.commaSeparated = true;
					elseif selectedId == 3 then
						CommitButton.orbData.formatting.truncated = false;
						CommitButton.orbData.formatting.commaSeparated = false;
					end

					UpdateXMLText(CommitButton.orb, CommitButton.orbData.formatting);
				end

				local function initMen(self, level)
					local stuff = UIDropDownMenu_CreateInfo()
					for k,v in pairs(fillOptions) do
						stuff = {}
						stuff.text = v
						stuff.value = v
						stuff.func = TextFormattingDropdown.OnClick
						UIDropDownMenu_AddButton(stuff, level)
					end
				end
				UIDropDownMenu_Initialize(TextFormattingDropdown, initMen)
				UIDropDownMenu_JustifyText(TextFormattingDropdown, "LEFT")

				--set the selected value appropriately
				local index = 1
				if CommitButton.orbData.formatting.truncated then
					index = 1
				elseif CommitButton.orbData.formatting.commaSeparated then
					index = 2
				else
					index = 3
				end

				UIDropDownMenu_SetSelectedID(TextFormattingDropdown, index)
			</OnShow>
		</Scripts>
	</Button>
	<Frame name="TextFormattingNoteFrame" parent="SL32ConfigFrame">
		<Anchors>
			<Anchor point="TOPRIGHT">
				<Offset x="20" y="-22" />
			</Anchor>
		</Anchors>
		<Layers>
			<Layer>
				<FontString name="TextFormattingNote" inherits="GameFontNormalSmall" text="Value formatting discontinued (protected values)." />
			</Layer>
		</Layers>
	</Frame>
	<Button name="FillTexturesDropDown" inherits="UIDropDownMenuTemplate" parent="SL32ConfigFrame">
		<Size x="200" y="45" />
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset x="-125" y="15" />
			</Anchor>
		</Anchors>
		<Scripts>
			<OnLoad>
				function FillTexturesDropDown:OnClick(value)
					UIDropDownMenu_SetSelectedID(FillTexturesDropDown,self:GetID())
					SL32SelectedFillIndex = self:GetID() - 1
					TryNewTextures(SL32FillTextureChoices[self:GetID() - 1],nil)
					if SL32FillTextureDisplayNames and SL32FillTextureDisplayNames[SL32SelectedFillIndex] then
						UIDropDownMenu_SetText(FillTexturesDropDown, SL32FillTextureDisplayNames[SL32SelectedFillIndex])
					end
				end

				local function fillMenu(self, level)
					local num = SL32FillTextureDisplayNames and table.getn(SL32FillTextureDisplayNames) or 0
					for i = 0, num, 1 do
						local val = SL32FillTextureDisplayNames and SL32FillTextureDisplayNames[i]
						if val then
							local info = UIDropDownMenu_CreateInfo()
							info.text = val
							info.value = val
							info.func = FillTexturesDropDown.OnClick
							UIDropDownMenu_AddButton(info, level)
						end
					end
				end
				UIDropDownMenu_Initialize(FillTexturesDropDown, fillMenu)
				UIDropDownMenu_SetSelectedID(FillTexturesDropDown, 1)
				UIDropDownMenu_JustifyText(FillTexturesDropDown, "LEFT")
			</OnLoad>
			<OnShow>

			</OnShow>
		</Scripts>
	</Button>
	<Button name="RotationTexturesDropDown" inherits="UIDropDownMenuTemplate" parent="SL32ConfigFrame">
		<Size x="200" y="45" />
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset x="12" y="15" />
			</Anchor>
		</Anchors>
		<Scripts>
			<OnLoad>
				function RotationTexturesDropDown:OnClick(value)
					UIDropDownMenu_SetSelectedID(RotationTexturesDropDown,self:GetID())
					SL32SelectedRotationIndex = self:GetID() - 1
					TryNewTextures(nil,SL32RotationTextureChoices[self:GetID() - 1])
					if SL32RotationTextureDisplayNames and SL32RotationTextureDisplayNames[SL32SelectedRotationIndex] then
						UIDropDownMenu_SetText(RotationTexturesDropDown, SL32RotationTextureDisplayNames[SL32SelectedRotationIndex])
					end
				end

				local function rotationMenu(self, level)
					local num = SL32RotationTextureDisplayNames and table.getn(SL32RotationTextureDisplayNames) or 0
					for i = 0, num, 1 do
						local val = SL32RotationTextureDisplayNames and SL32RotationTextureDisplayNames[i]
						if val then
							local info = UIDropDownMenu_CreateInfo()
							info.text = val
							info.value = val
							info.func = RotationTexturesDropDown.OnClick
							UIDropDownMenu_AddButton(info, level)
						end
					end
				end
				UIDropDownMenu_Initialize(RotationTexturesDropDown, rotationMenu)
				UIDropDownMenu_SetSelectedID(RotationTexturesDropDown, 1)
				UIDropDownMenu_JustifyText(RotationTexturesDropDown, "LEFT")
			</OnLoad>
			<OnShow>

			</OnShow>
		</Scripts>
	</Button>
</Ui>


